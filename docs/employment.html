<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.549">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Journalism with R - 16&nbsp; HK University Graduate Employment Situation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./olympics.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./hot100.html">Case Studies</a></li><li class="breadcrumb-item"><a href="./employment.html"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">HK University Graduate Employment Situation</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Data Journalism with R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Getting Started</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./install.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Intro to R and RStudio</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./r-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">R Coding Basics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Data Import &amp; Wrangling</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-import.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Import</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Data Wrangling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./transform-merge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Transform &amp; Merging</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Data Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Data Analysis</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Data Visualization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./visual-01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">ggplot Bascis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./visual-02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">ggplot 2.0</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./map-usa-election.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Map: US election 2024</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./map-lifex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Map: World Life Expectancy</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./norway-invest.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">GPFG Investments</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Special Topics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quarto-pub.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Quarto Webiste</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./debate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Text Analysis</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Case Studies</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./hot100.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Billboard Hot100</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./olympics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Paris 2024 Olympics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./employment.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">HK University Graduate Employment Situation</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link active" data-scroll-target="#learning-objectives"><span class="header-section-number">16.1</span> Learning Objectives</a></li>
  <li><a href="#set-up" id="toc-set-up" class="nav-link" data-scroll-target="#set-up"><span class="header-section-number">16.2</span> Set up</a></li>
  <li><a href="#data-import-and-cleaning" id="toc-data-import-and-cleaning" class="nav-link" data-scroll-target="#data-import-and-cleaning"><span class="header-section-number">16.3</span> Data Import and Cleaning</a></li>
  <li><a href="#merging-two-data-frames" id="toc-merging-two-data-frames" class="nav-link" data-scroll-target="#merging-two-data-frames"><span class="header-section-number">16.4</span> Merging two data frames</a>
  <ul class="collapse">
  <li><a href="#n_unemployed" id="toc-n_unemployed" class="nav-link" data-scroll-target="#n_unemployed">n_unemployed</a></li>
  <li><a href="#n_total" id="toc-n_total" class="nav-link" data-scroll-target="#n_total">n_total</a></li>
  <li><a href="#calculate-the-percentage-and-create-a-new-dataframe" id="toc-calculate-the-percentage-and-create-a-new-dataframe" class="nav-link" data-scroll-target="#calculate-the-percentage-and-create-a-new-dataframe">Calculate the percentage and create a new dataframe</a></li>
  <li><a href="#merge-the-two-dataframes" id="toc-merge-the-two-dataframes" class="nav-link" data-scroll-target="#merge-the-two-dataframes">Merge the two dataframes</a></li>
  </ul></li>
  <li><a href="#more-on-data-explore" id="toc-more-on-data-explore" class="nav-link" data-scroll-target="#more-on-data-explore"><span class="header-section-number">16.5</span> More on data explore</a>
  <ul class="collapse">
  <li><a href="#unique" id="toc-unique" class="nav-link" data-scroll-target="#unique"><code>unique()</code></a></li>
  <li><a href="#table" id="toc-table" class="nav-link" data-scroll-target="#table"><code>table()</code></a></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary"><code>summary()</code></a></li>
  <li><a href="#hist" id="toc-hist" class="nav-link" data-scroll-target="#hist"><code>hist()</code></a></li>
  <li><a href="#skim-package" id="toc-skim-package" class="nav-link" data-scroll-target="#skim-package"><code>skim</code> package</a></li>
  </ul></li>
  <li><a href="#data-visualization" id="toc-data-visualization" class="nav-link" data-scroll-target="#data-visualization"><span class="header-section-number">16.6</span> Data visualization</a>
  <ul class="collapse">
  <li><a href="#bar-plot" id="toc-bar-plot" class="nav-link" data-scroll-target="#bar-plot">Bar Plot</a></li>
  <li><a href="#line-plot" id="toc-line-plot" class="nav-link" data-scroll-target="#line-plot">Line Plot</a></li>
  <li><a href="#arrange-multiple-plots" id="toc-arrange-multiple-plots" class="nav-link" data-scroll-target="#arrange-multiple-plots">Arrange multiple plots</a></li>
  <li><a href="#interactive-plot-with-plotly" id="toc-interactive-plot-with-plotly" class="nav-link" data-scroll-target="#interactive-plot-with-plotly">Interactive Plot with <code>plotly</code></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./hot100.html">Case Studies</a></li><li class="breadcrumb-item"><a href="./employment.html"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">HK University Graduate Employment Situation</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">HK University Graduate Employment Situation</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="learning-objectives" class="level2" data-number="16.1">
<h2 data-number="16.1" class="anchored" data-anchor-id="learning-objectives"><span class="header-section-number">16.1</span> Learning Objectives</h2>
<ul>
<li>Practice on Merging two data frames
<ul>
<li>Learn how to use <code>left_join</code></li>
</ul></li>
<li>Practice more data analysis strategies on the “employment” data set
<ul>
<li>Explore single variables</li>
<li>Learn how to use <code>unique</code>, <code>table</code>, <code>hist</code>, <code>summary</code>, and <code>skim</code></li>
</ul></li>
<li>Practice more data visualization on the “employment” data set
<ul>
<li>Flip the axis: <code>coord_flip</code></li>
<li>Reordering the axis: <code>fct_reorder</code></li>
<li>Plot with facets: <code>facet_wrap</code></li>
<li>Interactive Plots: <code>plotly</code></li>
</ul></li>
</ul>
</section>
<section id="set-up" class="level2" data-number="16.2">
<h2 data-number="16.2" class="anchored" data-anchor-id="set-up"><span class="header-section-number">16.2</span> Set up</h2>
<p>In this week, you will continue working with the <code>Graduate_Employment_Stituation(Eng).csv</code> dataset. This dataset was downloaded from <a href="https://data.gov.hk/en-data/dataset/hk-ugc-ugc-student-ges-statistics">DATA.GOV.HK</a>. It contains on employment situation of graduates of full-time UGC-funded programmes in Hong Kong. The full name of the dataset is “Employment Situation of Graduates of Full-time UGC-funded Programmes by University, Level of Study, Employment Situation and Occupation”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-import-and-cleaning" class="level2" data-number="16.3">
<h2 data-number="16.3" class="anchored" data-anchor-id="data-import-and-cleaning"><span class="header-section-number">16.3</span> Data Import and Cleaning</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Use your own path</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/employment.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df_cleaned <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">year</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Academic Year</span><span class="st">`</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">university</span><span class="st">`</span> <span class="ot">=</span> University,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">level</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Level of study</span><span class="st">`</span>,</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">employment</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Employment Situation</span><span class="st">`</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">occupation</span><span class="st">`</span> <span class="ot">=</span> Occupation,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">headcount</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">Number of Graduates (Headcount)</span><span class="st">`</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">|&gt;</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year_start =</span> <span class="fu">str_sub</span>(year, <span class="dv">1</span>, <span class="dv">4</span>)) <span class="sc">|&gt;</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year_start =</span> <span class="fu">as.integer</span>(year_start)) <span class="sc">|&gt;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year_start, university, level, employment, headcount)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df_cleaned)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 5,669
Columns: 5
$ year_start &lt;int&gt; 2009, 2009, 2009, 2009, 2009, 2009, 2009, 2009, 2009, 2009,…
$ university &lt;chr&gt; "City University of Hong Kong", "City University of Hong Ko…
$ level      &lt;chr&gt; "Research postgraduate", "Research postgraduate", "Research…
$ employment &lt;chr&gt; "FT employment", "FT employment", "FT employment", "FT empl…
$ headcount  &lt;dbl&gt; 1, 2, 2, 1, 3, 1, 3, 1, 15, 2, 18, 8, 5, 1, 1, 97, 1, 6, 4,…</code></pre>
</div>
</div>
</section>
<section id="merging-two-data-frames" class="level2" data-number="16.4">
<h2 data-number="16.4" class="anchored" data-anchor-id="merging-two-data-frames"><span class="header-section-number">16.4</span> Merging two data frames</h2>
<p>For example, if you want to know what is the “Unemployment” percentage for each university in the most recent surveyed year, you may find it is hard to get the result directly from the <code>df_cleaned</code> dataset. You may need to do some data manipulation to get the result.</p>
<p>Let’s define the “Unemployment” percentage as the number of “Unemployed” graduates divided by the total number of graduates for each university in the most recent surveyed year.</p>
<p><span class="math display">\[
\text{Unemployment Percentage} = \frac{\text{Number of Unemployed Graduates}}{\text{Total Number of Graduates}}
\]</span></p>
<p>::: {.callout-note title = “Question”} So take a minute to think about how you can get the result? Can you get the percentage from the <code>df_cleaned</code> dataset directly using the <code>group_by</code> and <code>summarise</code> functions? and why or why not? :::</p>
<section id="n_unemployed" class="level3">
<h3 class="anchored" data-anchor-id="n_unemployed">n_unemployed</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df_unemp <span class="ot">&lt;-</span> df_cleaned <span class="sc">|&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(employment <span class="sc">==</span> <span class="st">"Unemployed"</span>) <span class="sc">|&gt;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(university, year_start) <span class="sc">|&gt;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">sum</span>(headcount))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'university'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df_unemp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 111
Columns: 3
Groups: university [8]
$ university &lt;chr&gt; "City University of Hong Kong", "City University of Hong Ko…
$ year_start &lt;int&gt; 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018,…
$ n          &lt;dbl&gt; 28, 29, 30, 33, 43, 58, 80, 89, 74, 140, 65, 40, 39, 45, 17…</code></pre>
</div>
</div>
</section>
<section id="n_total" class="level3">
<h3 class="anchored" data-anchor-id="n_total">n_total</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df_total <span class="ot">&lt;-</span> df_cleaned <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(university, year_start) <span class="sc">|&gt;</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_n =</span> <span class="fu">sum</span>(headcount))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'university'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df_total)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 112
Columns: 3
Groups: university [8]
$ university &lt;chr&gt; "City University of Hong Kong", "City University of Hong Ko…
$ year_start &lt;int&gt; 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018,…
$ total_n    &lt;dbl&gt; 2667, 2734, 2850, 2972, 3067, 3090, 3441, 3592, 3421, 3218,…</code></pre>
</div>
</div>
</section>
<section id="calculate-the-percentage-and-create-a-new-dataframe" class="level3">
<h3 class="anchored" data-anchor-id="calculate-the-percentage-and-create-a-new-dataframe">Calculate the percentage and create a new dataframe</h3>
</section>
<section id="merge-the-two-dataframes" class="level3">
<h3 class="anchored" data-anchor-id="merge-the-two-dataframes">Merge the two dataframes</h3>
<p>Notice that df_unemp and df_total have the same columns “university” and “year_start”. You can use the <code>left_join</code> function to merge the two dataframes by these two columns.</p>
<p>However, df_unemp has 111 rows and df_total has 112 rows. This is because there is one university in df_unemp that is not in df_total. You can use the <code>anti_join</code> function to find out which university is not in df_total.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(df_unemp<span class="sc">$</span>university, df_unemp<span class="sc">$</span>year_start)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(df_total<span class="sc">$</span>university, df_total<span class="sc">$</span>year_start)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>So here we found the data for “The Education University of Hong Kong” in 2009 is missing. So we can remove the 2009 from the dataset just for the purpose of this analysis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df_unemp <span class="ot">&lt;-</span> df_unemp <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year_start <span class="sc">!=</span> <span class="dv">2009</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>df_total <span class="ot">&lt;-</span> df_total <span class="sc">|&gt;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year_start <span class="sc">!=</span> <span class="dv">2009</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df_percentage <span class="ot">&lt;-</span> df_unemp <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(df_total, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"university"</span>, <span class="st">"year_start"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage =</span> n <span class="sc">/</span> total_n <span class="sc">*</span> <span class="dv">100</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>df_percentage</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["university"],"name":[1],"type":["chr"],"align":["left"]},{"label":["year_start"],"name":[2],"type":["int"],"align":["right"]},{"label":["n"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["total_n"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["percentage"],"name":[5],"type":["dbl"],"align":["right"]}],"data":[{"1":"City University of Hong Kong","2":"2010","3":"29","4":"2734","5":"1.0607169"},{"1":"City University of Hong Kong","2":"2011","3":"30","4":"2850","5":"1.0526316"},{"1":"City University of Hong Kong","2":"2012","3":"33","4":"2972","5":"1.1103634"},{"1":"City University of Hong Kong","2":"2013","3":"43","4":"3067","5":"1.4020215"},{"1":"City University of Hong Kong","2":"2014","3":"58","4":"3090","5":"1.8770227"},{"1":"City University of Hong Kong","2":"2015","3":"80","4":"3441","5":"2.3249056"},{"1":"City University of Hong Kong","2":"2016","3":"89","4":"3592","5":"2.4777283"},{"1":"City University of Hong Kong","2":"2017","3":"74","4":"3421","5":"2.1631102"},{"1":"City University of Hong Kong","2":"2018","3":"140","4":"3218","5":"4.3505283"},{"1":"City University of Hong Kong","2":"2019","3":"65","4":"3456","5":"1.8807870"},{"1":"City University of Hong Kong","2":"2020","3":"40","4":"3563","5":"1.1226495"},{"1":"City University of Hong Kong","2":"2021","3":"39","4":"3034","5":"1.2854318"},{"1":"City University of Hong Kong","2":"2022","3":"45","4":"3207","5":"1.4031805"},{"1":"Hong Kong Baptist University","2":"2010","3":"14","4":"1601","5":"0.8744535"},{"1":"Hong Kong Baptist University","2":"2011","3":"15","4":"1526","5":"0.9829620"},{"1":"Hong Kong Baptist University","2":"2012","3":"14","4":"1477","5":"0.9478673"},{"1":"Hong Kong Baptist University","2":"2013","3":"7","4":"1562","5":"0.4481434"},{"1":"Hong Kong Baptist University","2":"2014","3":"6","4":"1660","5":"0.3614458"},{"1":"Hong Kong Baptist University","2":"2015","3":"17","4":"1770","5":"0.9604520"},{"1":"Hong Kong Baptist University","2":"2016","3":"17","4":"1807","5":"0.9407858"},{"1":"Hong Kong Baptist University","2":"2017","3":"17","4":"1740","5":"0.9770115"},{"1":"Hong Kong Baptist University","2":"2018","3":"44","4":"1865","5":"2.3592493"},{"1":"Hong Kong Baptist University","2":"2019","3":"38","4":"1728","5":"2.1990741"},{"1":"Hong Kong Baptist University","2":"2020","3":"23","4":"1950","5":"1.1794872"},{"1":"Hong Kong Baptist University","2":"2021","3":"27","4":"1905","5":"1.4173228"},{"1":"Hong Kong Baptist University","2":"2022","3":"20","4":"1737","5":"1.1514105"},{"1":"Lingnan University","2":"2010","3":"9","4":"780","5":"1.1538462"},{"1":"Lingnan University","2":"2011","3":"8","4":"772","5":"1.0362694"},{"1":"Lingnan University","2":"2012","3":"9","4":"740","5":"1.2162162"},{"1":"Lingnan University","2":"2013","3":"8","4":"706","5":"1.1331445"},{"1":"Lingnan University","2":"2014","3":"8","4":"698","5":"1.1461318"},{"1":"Lingnan University","2":"2015","3":"10","4":"572","5":"1.7482517"},{"1":"Lingnan University","2":"2016","3":"10","4":"748","5":"1.3368984"},{"1":"Lingnan University","2":"2017","3":"9","4":"703","5":"1.2802276"},{"1":"Lingnan University","2":"2018","3":"28","4":"589","5":"4.7538200"},{"1":"Lingnan University","2":"2019","3":"23","4":"573","5":"4.0139616"},{"1":"Lingnan University","2":"2020","3":"17","4":"613","5":"2.7732463"},{"1":"Lingnan University","2":"2021","3":"15","4":"607","5":"2.4711697"},{"1":"Lingnan University","2":"2022","3":"19","4":"677","5":"2.8064993"},{"1":"The Chinese University of Hong Kong","2":"2010","3":"70","4":"3313","5":"2.1128886"},{"1":"The Chinese University of Hong Kong","2":"2011","3":"82","4":"3296","5":"2.4878641"},{"1":"The Chinese University of Hong Kong","2":"2012","3":"77","4":"3262","5":"2.3605150"},{"1":"The Chinese University of Hong Kong","2":"2013","3":"95","4":"3400","5":"2.7941176"},{"1":"The Chinese University of Hong Kong","2":"2014","3":"113","4":"3795","5":"2.9776021"},{"1":"The Chinese University of Hong Kong","2":"2015","3":"114","4":"4103","5":"2.7784548"},{"1":"The Chinese University of Hong Kong","2":"2016","3":"123","4":"4002","5":"3.0734633"},{"1":"The Chinese University of Hong Kong","2":"2017","3":"116","4":"3958","5":"2.9307731"},{"1":"The Chinese University of Hong Kong","2":"2018","3":"126","4":"3980","5":"3.1658291"},{"1":"The Chinese University of Hong Kong","2":"2019","3":"188","4":"4080","5":"4.6078431"},{"1":"The Chinese University of Hong Kong","2":"2020","3":"129","4":"4239","5":"3.0431706"},{"1":"The Chinese University of Hong Kong","2":"2021","3":"117","4":"3767","5":"3.1059198"},{"1":"The Chinese University of Hong Kong","2":"2022","3":"86","4":"3779","5":"2.2757343"},{"1":"The Education University of Hong Kong","2":"2010","3":"2","4":"833","5":"0.2400960"},{"1":"The Education University of Hong Kong","2":"2011","3":"7","4":"786","5":"0.8905852"},{"1":"The Education University of Hong Kong","2":"2012","3":"8","4":"935","5":"0.8556150"},{"1":"The Education University of Hong Kong","2":"2013","3":"7","4":"1177","5":"0.5947324"},{"1":"The Education University of Hong Kong","2":"2014","3":"12","4":"1110","5":"1.0810811"},{"1":"The Education University of Hong Kong","2":"2015","3":"15","4":"1091","5":"1.3748854"},{"1":"The Education University of Hong Kong","2":"2016","3":"13","4":"1223","5":"1.0629599"},{"1":"The Education University of Hong Kong","2":"2017","3":"14","4":"1219","5":"1.1484824"},{"1":"The Education University of Hong Kong","2":"2018","3":"31","4":"1233","5":"2.5141930"},{"1":"The Education University of Hong Kong","2":"2019","3":"43","4":"1298","5":"3.3127889"},{"1":"The Education University of Hong Kong","2":"2020","3":"19","4":"1259","5":"1.5091342"},{"1":"The Education University of Hong Kong","2":"2021","3":"21","4":"1175","5":"1.7872340"},{"1":"The Education University of Hong Kong","2":"2022","3":"17","4":"1113","5":"1.5274034"},{"1":"The Hong Kong Polytechnic University","2":"2010","3":"71","4":"4322","5":"1.6427580"},{"1":"The Hong Kong Polytechnic University","2":"2011","3":"84","4":"4117","5":"2.0403206"},{"1":"The Hong Kong Polytechnic University","2":"2012","3":"76","4":"4189","5":"1.8142755"},{"1":"The Hong Kong Polytechnic University","2":"2013","3":"120","4":"4032","5":"2.9761905"},{"1":"The Hong Kong Polytechnic University","2":"2014","3":"110","4":"4257","5":"2.5839793"},{"1":"The Hong Kong Polytechnic University","2":"2015","3":"109","4":"4289","5":"2.5413849"},{"1":"The Hong Kong Polytechnic University","2":"2016","3":"92","4":"4460","5":"2.0627803"},{"1":"The Hong Kong Polytechnic University","2":"2017","3":"89","4":"4584","5":"1.9415358"},{"1":"The Hong Kong Polytechnic University","2":"2018","3":"81","4":"4408","5":"1.8375681"},{"1":"The Hong Kong Polytechnic University","2":"2019","3":"83","4":"4253","5":"1.9515636"},{"1":"The Hong Kong Polytechnic University","2":"2020","3":"78","4":"4230","5":"1.8439716"},{"1":"The Hong Kong Polytechnic University","2":"2021","3":"68","4":"4227","5":"1.6087059"},{"1":"The Hong Kong Polytechnic University","2":"2022","3":"48","4":"4184","5":"1.1472275"},{"1":"The Hong Kong University of Science and Technology","2":"2010","3":"11","4":"1890","5":"0.5820106"},{"1":"The Hong Kong University of Science and Technology","2":"2011","3":"47","4":"1846","5":"2.5460455"},{"1":"The Hong Kong University of Science and Technology","2":"2012","3":"30","4":"1749","5":"1.7152659"},{"1":"The Hong Kong University of Science and Technology","2":"2013","3":"30","4":"2373","5":"1.2642225"},{"1":"The Hong Kong University of Science and Technology","2":"2014","3":"35","4":"2413","5":"1.4504766"},{"1":"The Hong Kong University of Science and Technology","2":"2015","3":"51","4":"2436","5":"2.0935961"},{"1":"The Hong Kong University of Science and Technology","2":"2016","3":"35","4":"2463","5":"1.4210313"},{"1":"The Hong Kong University of Science and Technology","2":"2017","3":"25","4":"2648","5":"0.9441088"},{"1":"The Hong Kong University of Science and Technology","2":"2018","3":"35","4":"2690","5":"1.3011152"},{"1":"The Hong Kong University of Science and Technology","2":"2019","3":"44","4":"2558","5":"1.7200938"},{"1":"The Hong Kong University of Science and Technology","2":"2020","3":"42","4":"2810","5":"1.4946619"},{"1":"The Hong Kong University of Science and Technology","2":"2021","3":"41","4":"2799","5":"1.4648089"},{"1":"The Hong Kong University of Science and Technology","2":"2022","3":"52","4":"2711","5":"1.9181114"},{"1":"The University of Hong Kong","2":"2010","3":"21","4":"3535","5":"0.5940594"},{"1":"The University of Hong Kong","2":"2011","3":"17","4":"3527","5":"0.4819960"},{"1":"The University of Hong Kong","2":"2012","3":"14","4":"3482","5":"0.4020678"},{"1":"The University of Hong Kong","2":"2013","3":"16","4":"3609","5":"0.4433361"},{"1":"The University of Hong Kong","2":"2014","3":"24","4":"3765","5":"0.6374502"},{"1":"The University of Hong Kong","2":"2015","3":"23","4":"3851","5":"0.5972475"},{"1":"The University of Hong Kong","2":"2016","3":"22","4":"3716","5":"0.5920344"},{"1":"The University of Hong Kong","2":"2017","3":"34","4":"4206","5":"0.8083690"},{"1":"The University of Hong Kong","2":"2018","3":"36","4":"3903","5":"0.9223674"},{"1":"The University of Hong Kong","2":"2019","3":"42","4":"3929","5":"1.0689743"},{"1":"The University of Hong Kong","2":"2020","3":"44","4":"4160","5":"1.0576923"},{"1":"The University of Hong Kong","2":"2021","3":"36","4":"4111","5":"0.8756993"},{"1":"The University of Hong Kong","2":"2022","3":"37","4":"3897","5":"0.9494483"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="more-on-data-explore" class="level2" data-number="16.5">
<h2 data-number="16.5" class="anchored" data-anchor-id="more-on-data-explore"><span class="header-section-number">16.5</span> More on data explore</h2>
<p>So far, you have learnt how to explore a dataset by looking at the first few rows, the column details. Often, you may want to explore the dataset in more detail. Especially for columns/variables. You should notice that for different types of columns, you may need to use different strategies and functions to explore them. For example, for a <code>numeric</code> column, you may want to know the <code>mean</code>, <code>median</code>, <code>min</code>, <code>max</code>, etc. For a <code>character</code> column, you may want to know the unique values, the frequency of each unique value, etc.</p>
<section id="unique" class="level3">
<h3 class="anchored" data-anchor-id="unique"><code>unique()</code></h3>
<p>For example, in the <code>df</code> dataset, you may want to explore the <code>Occupation</code> column. You can use the <code>unique()</code> function to get all the unique values in the <code>Occupation</code> column.</p>
<p><code>unique()</code> is a function that returns a vector of the unique values in a vector or data frame column. It is provided by the <code>base</code> R, so you don’t need to load any additional packages to use it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(df<span class="sc">$</span>University)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "City University of Hong Kong"                      
[2] "Hong Kong Baptist University"                      
[3] "Lingnan University"                                
[4] "The Chinese University of Hong Kong"               
[5] "The Education University of Hong Kong"             
[6] "The Hong Kong Polytechnic University"              
[7] "The Hong Kong University of Science and Technology"
[8] "The University of Hong Kong"                       </code></pre>
</div>
</div>
</section>
<section id="table" class="level3">
<h3 class="anchored" data-anchor-id="table"><code>table()</code></h3>
<p>You may also want to know the frequency of each unique value in the <code>Occupation</code> column. You can use the <code>table()</code> function to get the frequency of each unique value in the <code>Occupation</code> column.</p>
<p><code>table()</code> is a function that returns the frequency of each unique value in a vector or data frame column. It is provided by the <code>base</code> R, so you don’t need to load any additional packages to use it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(df<span class="sc">$</span>Occupation)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
                                              Accountants and Auditors 
                                                                   134 
                                       Agriculture and Fishery Workers 
                                                                    34 
                                            Aircraft and Ship Officers 
                                                                    74 
                                              Architects and Surveyors 
                                                                   153 
                                                               Artists 
                                                                   159 
                              Authors, Journalists and Related Writers 
                                                                   182 
                                                Business Professionals 
                                                                   259 
                                          Clerical and Related Workers 
                                                                   175 
                          Economists, Statisticians and Mathematicians 
                                                                   171 
                                               Engineering Technicians 
                                                                   159 
                                                             Engineers 
                                                                   193 
                               Government Administrators and Diplomats 
                                                                    33 
                                 Government Officials (General Grades) 
                                                                   161 
                         Insurance, Real Estate, and Business Services 
                                                                   151 
                                                         Legal Workers 
                                                                   124 
                                                              Managers 
                                                                   199 
                                            Medical and Health Workers 
                                                                   195 
                                           Not in Full-time Employment 
                                                                  1186 
                                  Occupations not elsewhere classified 
                                                                    49 
                             Other Professionals and Technical Workers 
                                                                   205 
                                                 Other Service Workers 
                                                                   136 
                                 Physical and Life Science Technicians 
                                                                   155 
                                          Physical and Life Scientists 
                                                                   159 
                                        Production and Related Workers 
                                                                    76 
                                            Protective Service Workers 
                                                                   138 
                                                     Religious Workers 
                                                                    69 
                                                 Sales/Service Workers 
                                                                   155 
                              System Analysts and Computer Programmers 
                                                                   199 
                                                   Teaching Profession 
                                                                   315 
                                  Workers not reporting any occupation 
                                                                   210 
Workers reporting occupations unidentifiable or inadequately described 
                                                                    61 </code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can use table() to also get the frequency of unique value for a combination of two columns. For example, if you want to know the frequency of each unique value in the <code>Occupation</code> column for each <code>University</code>, you can use the following code: <code>table(df$University, df$Occupation)</code>.</p>
</div>
</div>
<section id="extension" class="level4">
<h4 class="anchored" data-anchor-id="extension">extension</h4>
<p>Can you use <code>group_by</code> and <code>summarise</code> to get the same result?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">|&gt;</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Occupation) <span class="sc">|&gt;</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["Occupation"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Accountants and Auditors","2":"134"},{"1":"Agriculture and Fishery Workers","2":"34"},{"1":"Aircraft and Ship Officers","2":"74"},{"1":"Architects and Surveyors","2":"153"},{"1":"Artists","2":"159"},{"1":"Authors, Journalists and Related Writers","2":"182"},{"1":"Business Professionals","2":"259"},{"1":"Clerical and Related Workers","2":"175"},{"1":"Economists, Statisticians and Mathematicians","2":"171"},{"1":"Engineering Technicians","2":"159"},{"1":"Engineers","2":"193"},{"1":"Government Administrators and Diplomats","2":"33"},{"1":"Government Officials (General Grades)","2":"161"},{"1":"Insurance, Real Estate, and Business Services","2":"151"},{"1":"Legal Workers","2":"124"},{"1":"Managers","2":"199"},{"1":"Medical and Health Workers","2":"195"},{"1":"Not in Full-time Employment","2":"1186"},{"1":"Occupations not elsewhere classified","2":"49"},{"1":"Other Professionals and Technical Workers","2":"205"},{"1":"Other Service Workers","2":"136"},{"1":"Physical and Life Science Technicians","2":"155"},{"1":"Physical and Life Scientists","2":"159"},{"1":"Production and Related Workers","2":"76"},{"1":"Protective Service Workers","2":"138"},{"1":"Religious Workers","2":"69"},{"1":"Sales/Service Workers","2":"155"},{"1":"System Analysts and Computer Programmers","2":"199"},{"1":"Teaching Profession","2":"315"},{"1":"Workers not reporting any occupation","2":"210"},{"1":"Workers reporting occupations unidentifiable or inadequately described","2":"61"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</section>
</section>
<section id="summary" class="level3">
<h3 class="anchored" data-anchor-id="summary"><code>summary()</code></h3>
<p>Notice that the <code>unique</code> and <code>table</code> functions are particularly useful for <code>character</code> columns. For <code>numeric</code> columns, the exploration can be very straightforward, such as getting the <code>mean</code>, <code>median</code>, <code>min</code>, <code>max</code>, etc. For example, if you want to explore the <code>percentage</code> column in the <code>df_percentage</code> dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(df_percentage<span class="sc">$</span>percentage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.69358</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(df_percentage<span class="sc">$</span>percentage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.435754</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(df_percentage<span class="sc">$</span>percentage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.240096</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(df_percentage<span class="sc">$</span>percentage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.75382</code></pre>
</div>
</div>
<p>Also, there is a very handy function called <code>summary()</code> that can give you a summary of the <code>numeric</code> column. It provides the <code>min</code>, <code>1st Qu</code>, <code>median</code>, <code>mean</code>, <code>3rd Qu</code>, <code>max</code> for the <code>numeric</code> column.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df_percentage<span class="sc">$</span>percentage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
 0.2401  1.0485  1.4358  1.6936  2.2880  4.7538 </code></pre>
</div>
</div>
<div class="callout-info">
<p><code>1st Qu</code> and <code>3rd Qu</code> are the first and third quartiles, respectively. They are the values that divide the data into four equal parts. The <code>median</code> is the middle value of the data. The <code>min</code> and <code>max</code> are the minimum and maximum values of the data, respectively.</p>
</div>
</section>
<section id="hist" class="level3">
<h3 class="anchored" data-anchor-id="hist"><code>hist()</code></h3>
<p>For a <code>numeric</code> column, you may also want to know the distribution of the data. You can use the <code>hist()</code> function to plot a histogram of the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(df_percentage<span class="sc">$</span>percentage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="employment_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>::: {.callout-note title = “Question”} Can you dont use <code>hist()</code> on a <code>character</code> column to get the distribution of the data, and why? :::</p>
</section>
<section id="skim-package" class="level3">
<h3 class="anchored" data-anchor-id="skim-package"><code>skim</code> package</h3>
<p>Actually, there are some packages that can help you explore the data more efficiently. For example, the <code>skimr</code> package provides a more comprehensive summary of the data.</p>
<p>First, lets load the <code>skimr</code> package.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install the package if you haven't installed it</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="co"># run install.packages("skim") in console, don't run this in the R markdown</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(skimr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, you can simply run the <code>skim()</code> function on the dataset to get a comprehensive summary of the data. Let’s try the <code>skim()</code> function on the <code>df</code> dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skim</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<caption>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">df</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">5669</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">6</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">character</td>
<td style="text-align: left;">5</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">1</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 26%">
<col style="width: 12%">
<col style="width: 17%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 7%">
<col style="width: 11%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">min</th>
<th style="text-align: right;">max</th>
<th style="text-align: right;">empty</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: right;">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Academic Year</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">University</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">50</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Level of study</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">10</td>
<td style="text-align: right;">21</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">Employment Situation</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">6</td>
<td style="text-align: right;">15</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Occupation</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">7</td>
<td style="text-align: right;">70</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">31</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 33%">
<col style="width: 10%">
<col style="width: 14%">
<col style="width: 6%">
<col style="width: 7%">
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 6%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Number of Graduates (Headcount)</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">51.34</td>
<td style="text-align: right;">107.38</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">11</td>
<td style="text-align: right;">46</td>
<td style="text-align: right;">1014</td>
<td style="text-align: left;">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>You will see the output including three pages: overall description, two <code>one_skim_df</code>. - The overall description provides the summary of the dataset, including the number of rows, columns, missing values, etc. - The second page page shows details for character columns. The useful information includes the number of missing values, the number of unique values. You may find this page also shows information about <code>min</code> and <code>max</code>, however, this is not about the min and max of the data, but the min and max of the length of the string in the column. - The third page shows a description of all the <code>numeric</code> columns. You will find in additional to n_missing, it also provides the <code>mean</code>, <code>sd</code>, <code>p0</code>, <code>p25</code>, <code>p50</code>, <code>p75</code>.</p>
</section>
</section>
<section id="data-visualization" class="level2" data-number="16.6">
<h2 data-number="16.6" class="anchored" data-anchor-id="data-visualization"><span class="header-section-number">16.6</span> Data visualization</h2>
<section id="bar-plot" class="level3">
<h3 class="anchored" data-anchor-id="bar-plot">Bar Plot</h3>
<ul>
<li>Create a bar plot to show the percentage of graduates who are “Unemployed” for each university in the most recent surveyed year (2022). Use the <code>df_percentage</code> dataframe.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>df_percentage <span class="sc">|&gt;</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year_start <span class="sc">==</span> <span class="dv">2022</span>) <span class="sc">|&gt;</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> university, <span class="at">y =</span> percentage)) <span class="sc">+</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unemployment Percentage by University in 2022/23"</span>,</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"University"</span>,</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentage"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="employment_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="bar-plot-coord_flip" class="level4">
<h4 class="anchored" data-anchor-id="bar-plot-coord_flip">Bar Plot + <code>coord_flip()</code></h4>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-23"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-23-1"><a href="#annotated-cell-23-1" aria-hidden="true" tabindex="-1"></a>df_percentage <span class="sc">|&gt;</span></span>
<span id="annotated-cell-23-2"><a href="#annotated-cell-23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year_start <span class="sc">==</span> <span class="dv">2022</span>) <span class="sc">|&gt;</span></span>
<span id="annotated-cell-23-3"><a href="#annotated-cell-23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> university, <span class="at">y =</span> percentage)) <span class="sc">+</span></span>
<span id="annotated-cell-23-4"><a href="#annotated-cell-23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span> </span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-23" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-23-5" class="code-annotation-target"><a href="#annotated-cell-23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="annotated-cell-23-6"><a href="#annotated-cell-23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unemployment Percentage by University in 2022/23"</span>,</span>
<span id="annotated-cell-23-7"><a href="#annotated-cell-23-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">" "</span>,</span>
<span id="annotated-cell-23-8"><a href="#annotated-cell-23-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentage (%)"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-23" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-23" data-code-lines="5" data-code-annotation="1"><code>coord_flip()</code> is a function that flips the x and y axes. It is useful when you have a lot of categories on the x-axis and the labels are long, so it is better to put them on the y-axis.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="employment_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="reordering-the-bars" class="level4">
<h4 class="anchored" data-anchor-id="reordering-the-bars">reordering the bars</h4>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-24"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-24-1"><a href="#annotated-cell-24-1" aria-hidden="true" tabindex="-1"></a>df_percentage <span class="sc">|&gt;</span></span>
<span id="annotated-cell-24-2"><a href="#annotated-cell-24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year_start <span class="sc">==</span> <span class="dv">2022</span>) <span class="sc">|&gt;</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-24" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-24-3" class="code-annotation-target"><a href="#annotated-cell-24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(university, percentage), <span class="at">y =</span> percentage)) <span class="sc">+</span></span>
<span id="annotated-cell-24-4"><a href="#annotated-cell-24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="annotated-cell-24-5"><a href="#annotated-cell-24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="annotated-cell-24-6"><a href="#annotated-cell-24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unemployment Percentage by University in 2022/23"</span>,</span>
<span id="annotated-cell-24-7"><a href="#annotated-cell-24-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">" "</span>,</span>
<span id="annotated-cell-24-8"><a href="#annotated-cell-24-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentage (%)"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-24" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-24" data-code-lines="3" data-code-annotation="1"><code>fct_reorder()</code> is a function that reorders the levels of a factor based on a summary statistic. In this case, we are reordering the levels of the <code>university</code> factor based on the <code>percentage</code> column.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="employment_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>fct_reorder()</code> is a function provided by the <code>forcats</code> package, which is part of the <code>tidyverse</code>. You don’t need to load the <code>forcats</code> package explicitly because it is loaded automatically when you load the <code>tidyverse</code>.</p>
</div>
</div>
</section>
<section id="add-labels" class="level4">
<h4 class="anchored" data-anchor-id="add-labels">add labels</h4>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-25"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-25-1"><a href="#annotated-cell-25-1" aria-hidden="true" tabindex="-1"></a>df_percentage <span class="sc">|&gt;</span></span>
<span id="annotated-cell-25-2"><a href="#annotated-cell-25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year_start <span class="sc">==</span> <span class="dv">2022</span>) <span class="sc">|&gt;</span></span>
<span id="annotated-cell-25-3"><a href="#annotated-cell-25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">fct_reorder</span>(university, percentage), <span class="at">y =</span> percentage)) <span class="sc">+</span></span>
<span id="annotated-cell-25-4"><a href="#annotated-cell-25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-25" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-25-5" class="code-annotation-target"><a href="#annotated-cell-25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">round</span>(percentage, <span class="dv">1</span>)), <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="annotated-cell-25-6"><a href="#annotated-cell-25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="annotated-cell-25-7"><a href="#annotated-cell-25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unemployment Percentage by University in 2022/23"</span>,</span>
<span id="annotated-cell-25-8"><a href="#annotated-cell-25-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"University"</span>,</span>
<span id="annotated-cell-25-9"><a href="#annotated-cell-25-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentage"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-25" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-25" data-code-lines="5" data-code-annotation="1"><code>geom_text()</code> is a function that adds text labels to the plot. In this case, we are adding the <code>percentage</code> values to the plot. The <code>hjust</code> argument controls the horizontal justification of the text. A value of <em>-0.1</em> means the text is slightly to the <em>right</em> of the bar.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="employment_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="line-plot" class="level3">
<h3 class="anchored" data-anchor-id="line-plot">Line Plot</h3>
<ul>
<li>Create a line plot to show the percentage of Unemployed graduates for HKU over the years.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-26"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-26-1"><a href="#annotated-cell-26-1" aria-hidden="true" tabindex="-1"></a>df_percentage <span class="sc">|&gt;</span></span>
<span id="annotated-cell-26-2"><a href="#annotated-cell-26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(university <span class="sc">==</span> <span class="st">"The University of Hong Kong"</span>) <span class="sc">|&gt;</span></span>
<span id="annotated-cell-26-3"><a href="#annotated-cell-26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_start, <span class="at">y =</span> percentage)) <span class="sc">+</span></span>
<span id="annotated-cell-26-4"><a href="#annotated-cell-26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-26" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-26-5" class="code-annotation-target"><a href="#annotated-cell-26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2009</span>, <span class="dv">2022</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="annotated-cell-26-6"><a href="#annotated-cell-26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unemployment Percentage of HKU Graduates Over the Years"</span>,</span>
<span id="annotated-cell-26-7"><a href="#annotated-cell-26-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="annotated-cell-26-8"><a href="#annotated-cell-26-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentage (%)"</span>) <span class="sc">+</span></span>
<span id="annotated-cell-26-9"><a href="#annotated-cell-26-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>()</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-26" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-26" data-code-lines="5" data-code-annotation="1"><code>scale_x_continuous()</code> is a function that controls the breaks (tick marks) on the x-axis. In this case, we are setting the breaks to be every year from 2009 to 2022.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="employment_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="line-plot-with-multiple-lines" class="level4">
<h4 class="anchored" data-anchor-id="line-plot-with-multiple-lines">Line Plot with Multiple Lines</h4>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-27"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-27-1"><a href="#annotated-cell-27-1" aria-hidden="true" tabindex="-1"></a>df_percentage <span class="sc">|&gt;</span></span>
<span id="annotated-cell-27-2"><a href="#annotated-cell-27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_start, <span class="at">y =</span> percentage, <span class="at">color =</span> university)) <span class="sc">+</span></span>
<span id="annotated-cell-27-3"><a href="#annotated-cell-27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="annotated-cell-27-4"><a href="#annotated-cell-27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="annotated-cell-27-5"><a href="#annotated-cell-27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2009</span>, <span class="dv">2022</span>, <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="annotated-cell-27-6"><a href="#annotated-cell-27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unemployment Percentage of Graduates Over the Years"</span>,</span>
<span id="annotated-cell-27-7"><a href="#annotated-cell-27-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">" "</span>,</span>
<span id="annotated-cell-27-8"><a href="#annotated-cell-27-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentage (%)"</span>) <span class="sc">+</span></span>
<span id="annotated-cell-27-9"><a href="#annotated-cell-27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-27" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-27-10" class="code-annotation-target"><a href="#annotated-cell-27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-27" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-27" data-code-lines="10" data-code-annotation="1"><code>theme(legend.position = "bottom")</code> is a function that moves the legend to the bottom of the plot. The default position is at the right of the plot.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="employment_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Within the <code>theme()</code> function, you can use the <code>legend.position</code> argument to control the position of the legend. The possible values are “none”, “left”, “right”, “top”, “bottom”, “topright”, “topleft”, “bottomright”, “bottomleft”.</p>
</div>
</div>
</section>
<section id="plot-with-facets" class="level4">
<h4 class="anchored" data-anchor-id="plot-with-facets">Plot with Facets</h4>
<div class="cell">
<div class="sourceCode cell-code" id="annotated-cell-28"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><span id="annotated-cell-28-1"><a href="#annotated-cell-28-1" aria-hidden="true" tabindex="-1"></a>df_percentage <span class="sc">|&gt;</span></span>
<span id="annotated-cell-28-2"><a href="#annotated-cell-28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_start, <span class="at">y =</span> percentage, <span class="at">color =</span> university)) <span class="sc">+</span></span>
<span id="annotated-cell-28-3"><a href="#annotated-cell-28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="annotated-cell-28-4"><a href="#annotated-cell-28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unemployment Percentage of Graduates Over the Years"</span>,</span>
<span id="annotated-cell-28-5"><a href="#annotated-cell-28-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="annotated-cell-28-6"><a href="#annotated-cell-28-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentage (%)"</span>) <span class="sc">+</span></span>
<span id="annotated-cell-28-7"><a href="#annotated-cell-28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2009</span>, <span class="dv">2022</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<a class="code-annotation-anchor" data-target-cell="annotated-cell-28" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-28-8" class="code-annotation-target"><a href="#annotated-cell-28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>university) <span class="sc">+</span></span>
<span id="annotated-cell-28-9"><a href="#annotated-cell-28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="annotated-cell-28-10"><a href="#annotated-cell-28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-28" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-28" data-code-lines="8" data-code-annotation="1"><code>facet_wrap(~university)</code> is a function that creates a separate plot for each level of the <code>university</code> factor. In this case, we are creating a separate plot for each university. The <code>~</code> symbol is used to specify the variable that you want to facet by.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="employment_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="save-the-plots" class="level4">
<h4 class="anchored" data-anchor-id="save-the-plots">Save the plots</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>df_percentage <span class="sc">|&gt;</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_start, <span class="at">y =</span> percentage, <span class="at">color =</span> university)) <span class="sc">+</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unemployment Percentage of Graduates Over the Years"</span>,</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentage (%)"</span>) <span class="sc">+</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2009</span>, <span class="dv">2022</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>university) <span class="sc">+</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-annotation">
<dl class="code-annotation-container-grid">
<dt data-target-cell="annotated-cell-30" data-target-annotation="1">1</dt>
<dd>
<span data-code-cell="annotated-cell-30" data-code-lines="1" data-code-annotation="1"><code>ggsave()</code> is a function that saves the plot to a file. In this case, we are saving the plot as a PNG file with a width of 10 inches, a height of 6 inches, and a resolution of 300 dpi.</span>
</dd>
</dl>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="employment_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="annotated-cell-30"><pre class="sourceCode r code-annotation-code code-with-copy code-annotated"><code class="sourceCode r"><a class="code-annotation-anchor" data-target-cell="annotated-cell-30" data-target-annotation="1" onclick="event.preventDefault();">1</a><span id="annotated-cell-30-1" class="code-annotation-target"><a href="#annotated-cell-30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ggsave("line_plot.png", width = 10, height = 6, dpi = 300)</span></span><div class="code-annotation-gutter-bg"></div><div class="code-annotation-gutter"></div></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>dpi</code> stands for dots per inch, which is the resolution of the image. The higher the dpi, the higher the resolution of the image. The default dpi is 300, which is a good resolution for most purposes.</p>
</div>
</div>
</section>
</section>
<section id="arrange-multiple-plots" class="level3">
<h3 class="anchored" data-anchor-id="arrange-multiple-plots">Arrange multiple plots</h3>
<p>Sometimes, you may want to put multiple plots together for comparison or presentation. You can use the <code>gridExtra</code> package to arrange multiple plots on a single page. Install the <code>gridExtra</code> package if you haven’t installed it yet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here you can created two plots <code>p1</code> and <code>p2</code> and put them together using the <code>grid.arrange()</code> function.</p>
<p>The code <code>grid.arrange(p1, p2, ncol = 2)</code> means to put <code>p1</code> and <code>p2</code> together in two columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> df_percentage <span class="sc">|&gt;</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_start, <span class="at">y =</span> percentage, <span class="at">color =</span> university)) <span class="sc">+</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unemployment Percentage of Graduates Over the Years"</span>,</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentage (%)"</span>) <span class="sc">+</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2009</span>, <span class="dv">2022</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>university) <span class="sc">+</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> df_percentage <span class="sc">|&gt;</span></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_start, <span class="at">y =</span> percentage, <span class="at">color =</span> university)) <span class="sc">+</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unemployment Percentage of Graduates Over the Years"</span>,</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentage (%)"</span>) <span class="sc">+</span></span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2009</span>, <span class="dv">2022</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a><span class="co"># put p1 and p2 together</span></span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a><span class="fu">grid.arrange</span>(p1, p2, <span class="at">ncol =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="employment_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="interactive-plot-with-plotly" class="level3">
<h3 class="anchored" data-anchor-id="interactive-plot-with-plotly">Interactive Plot with <code>plotly</code></h3>
<p>When you plot using <code>ggplot2</code>, you can easily convert it to an interactive plot using the <code>plotly</code> package. This is super useful when you want to share your plot online or in a presentation, especially when the plot involves multiple lines or facets.</p>
<p>Install the <code>plotly</code> package if you haven’t installed it yet. (Run <code>install.packages("plotly")</code> in the console)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For example, here we first create a line plot using <code>ggplot2</code>, then convert it to an interactive plot using <code>ggplotly()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> df_percentage <span class="sc">|&gt;</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> year_start, <span class="at">y =</span> percentage, <span class="at">color =</span> university)) <span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Unemployment Percentage of Graduates Over the Years"</span>,</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Year"</span>,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Percentage (%)"</span>) <span class="sc">+</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">2009</span>, <span class="dv">2022</span>, <span class="dv">2</span>)) <span class="sc">+</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>)</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="employment_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Then, you can convert the plot to an interactive plot using the <code>ggplotly()</code> function. This interactive plot provides additional features such as zooming, panning, auto-scaling, etc.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-ae42cd46efbf327bd044" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-ae42cd46efbf327bd044">{"x":{"data":[{"x":[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[1.0607168983174835,1.0526315789473684,1.1103633916554509,1.4020215194000651,1.8770226537216828,2.3249055507120024,2.477728285077951,2.1631102016954107,4.35052827843381,1.880787037037037,1.1226494527083919,1.2854317732366514,1.4031805425631432],"text":["year_start: 2010<br />percentage: 1.0607169<br />university: City University of Hong Kong","year_start: 2011<br />percentage: 1.0526316<br />university: City University of Hong Kong","year_start: 2012<br />percentage: 1.1103634<br />university: City University of Hong Kong","year_start: 2013<br />percentage: 1.4020215<br />university: City University of Hong Kong","year_start: 2014<br />percentage: 1.8770227<br />university: City University of Hong Kong","year_start: 2015<br />percentage: 2.3249056<br />university: City University of Hong Kong","year_start: 2016<br />percentage: 2.4777283<br />university: City University of Hong Kong","year_start: 2017<br />percentage: 2.1631102<br />university: City University of Hong Kong","year_start: 2018<br />percentage: 4.3505283<br />university: City University of Hong Kong","year_start: 2019<br />percentage: 1.8807870<br />university: City University of Hong Kong","year_start: 2020<br />percentage: 1.1226495<br />university: City University of Hong Kong","year_start: 2021<br />percentage: 1.2854318<br />university: City University of Hong Kong","year_start: 2022<br />percentage: 1.4031805<br />university: City University of Hong Kong"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"City University of Hong Kong","legendgroup":"City University of Hong Kong","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[0.8744534665833853,0.98296199213630409,0.94786729857819907,0.44814340588988477,0.36144578313253012,0.96045197740112997,0.94078583287216389,0.97701149425287359,2.3592493297587129,2.199074074074074,1.1794871794871795,1.4173228346456692,1.1514104778353482],"text":["year_start: 2010<br />percentage: 0.8744535<br />university: Hong Kong Baptist University","year_start: 2011<br />percentage: 0.9829620<br />university: Hong Kong Baptist University","year_start: 2012<br />percentage: 0.9478673<br />university: Hong Kong Baptist University","year_start: 2013<br />percentage: 0.4481434<br />university: Hong Kong Baptist University","year_start: 2014<br />percentage: 0.3614458<br />university: Hong Kong Baptist University","year_start: 2015<br />percentage: 0.9604520<br />university: Hong Kong Baptist University","year_start: 2016<br />percentage: 0.9407858<br />university: Hong Kong Baptist University","year_start: 2017<br />percentage: 0.9770115<br />university: Hong Kong Baptist University","year_start: 2018<br />percentage: 2.3592493<br />university: Hong Kong Baptist University","year_start: 2019<br />percentage: 2.1990741<br />university: Hong Kong Baptist University","year_start: 2020<br />percentage: 1.1794872<br />university: Hong Kong Baptist University","year_start: 2021<br />percentage: 1.4173228<br />university: Hong Kong Baptist University","year_start: 2022<br />percentage: 1.1514105<br />university: Hong Kong Baptist University"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(205,150,0,1)","dash":"solid"},"hoveron":"points","name":"Hong Kong Baptist University","legendgroup":"Hong Kong Baptist University","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[1.153846153846154,1.0362694300518136,1.2162162162162162,1.1331444759206799,1.1461318051575931,1.7482517482517483,1.3368983957219251,1.2802275960170697,4.7538200339558569,4.0139616055846421,2.7732463295269167,2.4711696869851729,2.8064992614475628],"text":["year_start: 2010<br />percentage: 1.1538462<br />university: Lingnan University","year_start: 2011<br />percentage: 1.0362694<br />university: Lingnan University","year_start: 2012<br />percentage: 1.2162162<br />university: Lingnan University","year_start: 2013<br />percentage: 1.1331445<br />university: Lingnan University","year_start: 2014<br />percentage: 1.1461318<br />university: Lingnan University","year_start: 2015<br />percentage: 1.7482517<br />university: Lingnan University","year_start: 2016<br />percentage: 1.3368984<br />university: Lingnan University","year_start: 2017<br />percentage: 1.2802276<br />university: Lingnan University","year_start: 2018<br />percentage: 4.7538200<br />university: Lingnan University","year_start: 2019<br />percentage: 4.0139616<br />university: Lingnan University","year_start: 2020<br />percentage: 2.7732463<br />university: Lingnan University","year_start: 2021<br />percentage: 2.4711697<br />university: Lingnan University","year_start: 2022<br />percentage: 2.8064993<br />university: Lingnan University"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(124,174,0,1)","dash":"solid"},"hoveron":"points","name":"Lingnan University","legendgroup":"Lingnan University","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[2.1128886205855721,2.487864077669903,2.3605150214592276,2.7941176470588238,2.9776021080368906,2.77845478917865,3.073463268365817,2.9307731177362304,3.1658291457286429,4.6078431372549025,3.043170559094126,3.1059198301035309,2.2757343212490078],"text":["year_start: 2010<br />percentage: 2.1128886<br />university: The Chinese University of Hong Kong","year_start: 2011<br />percentage: 2.4878641<br />university: The Chinese University of Hong Kong","year_start: 2012<br />percentage: 2.3605150<br />university: The Chinese University of Hong Kong","year_start: 2013<br />percentage: 2.7941176<br />university: The Chinese University of Hong Kong","year_start: 2014<br />percentage: 2.9776021<br />university: The Chinese University of Hong Kong","year_start: 2015<br />percentage: 2.7784548<br />university: The Chinese University of Hong Kong","year_start: 2016<br />percentage: 3.0734633<br />university: The Chinese University of Hong Kong","year_start: 2017<br />percentage: 2.9307731<br />university: The Chinese University of Hong Kong","year_start: 2018<br />percentage: 3.1658291<br />university: The Chinese University of Hong Kong","year_start: 2019<br />percentage: 4.6078431<br />university: The Chinese University of Hong Kong","year_start: 2020<br />percentage: 3.0431706<br />university: The Chinese University of Hong Kong","year_start: 2021<br />percentage: 3.1059198<br />university: The Chinese University of Hong Kong","year_start: 2022<br />percentage: 2.2757343<br />university: The Chinese University of Hong Kong"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,190,103,1)","dash":"solid"},"hoveron":"points","name":"The Chinese University of Hong Kong","legendgroup":"The Chinese University of Hong Kong","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[0.24009603841536614,0.89058524173027986,0.85561497326203206,0.59473237043330507,1.0810810810810811,1.3748854262144821,1.062959934587081,1.1484823625922889,2.51419302514193,3.3127889060092452,1.5091342335186657,1.7872340425531916,1.527403414195867],"text":["year_start: 2010<br />percentage: 0.2400960<br />university: The Education University of Hong Kong","year_start: 2011<br />percentage: 0.8905852<br />university: The Education University of Hong Kong","year_start: 2012<br />percentage: 0.8556150<br />university: The Education University of Hong Kong","year_start: 2013<br />percentage: 0.5947324<br />university: The Education University of Hong Kong","year_start: 2014<br />percentage: 1.0810811<br />university: The Education University of Hong Kong","year_start: 2015<br />percentage: 1.3748854<br />university: The Education University of Hong Kong","year_start: 2016<br />percentage: 1.0629599<br />university: The Education University of Hong Kong","year_start: 2017<br />percentage: 1.1484824<br />university: The Education University of Hong Kong","year_start: 2018<br />percentage: 2.5141930<br />university: The Education University of Hong Kong","year_start: 2019<br />percentage: 3.3127889<br />university: The Education University of Hong Kong","year_start: 2020<br />percentage: 1.5091342<br />university: The Education University of Hong Kong","year_start: 2021<br />percentage: 1.7872340<br />university: The Education University of Hong Kong","year_start: 2022<br />percentage: 1.5274034<br />university: The Education University of Hong Kong"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,191,196,1)","dash":"solid"},"hoveron":"points","name":"The Education University of Hong Kong","legendgroup":"The Education University of Hong Kong","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[1.6427579824155485,2.0403206218119991,1.8142754834089281,2.9761904761904758,2.5839793281653747,2.5413849382140361,2.0627802690582961,1.9415357766143104,1.8375680580762248,1.951563602163179,1.8439716312056738,1.6087059380175066,1.1472275334608031],"text":["year_start: 2010<br />percentage: 1.6427580<br />university: The Hong Kong Polytechnic University","year_start: 2011<br />percentage: 2.0403206<br />university: The Hong Kong Polytechnic University","year_start: 2012<br />percentage: 1.8142755<br />university: The Hong Kong Polytechnic University","year_start: 2013<br />percentage: 2.9761905<br />university: The Hong Kong Polytechnic University","year_start: 2014<br />percentage: 2.5839793<br />university: The Hong Kong Polytechnic University","year_start: 2015<br />percentage: 2.5413849<br />university: The Hong Kong Polytechnic University","year_start: 2016<br />percentage: 2.0627803<br />university: The Hong Kong Polytechnic University","year_start: 2017<br />percentage: 1.9415358<br />university: The Hong Kong Polytechnic University","year_start: 2018<br />percentage: 1.8375681<br />university: The Hong Kong Polytechnic University","year_start: 2019<br />percentage: 1.9515636<br />university: The Hong Kong Polytechnic University","year_start: 2020<br />percentage: 1.8439716<br />university: The Hong Kong Polytechnic University","year_start: 2021<br />percentage: 1.6087059<br />university: The Hong Kong Polytechnic University","year_start: 2022<br />percentage: 1.1472275<br />university: The Hong Kong Polytechnic University"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,169,255,1)","dash":"solid"},"hoveron":"points","name":"The Hong Kong Polytechnic University","legendgroup":"The Hong Kong Polytechnic University","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[0.58201058201058198,2.5460455037919827,1.7152658662092626,1.2642225031605563,1.4504765851636967,2.0935960591133003,1.4210312626877792,0.9441087613293051,1.3011152416356877,1.7200938232994525,1.4946619217081851,1.4648088603072527,1.918111398008115],"text":["year_start: 2010<br />percentage: 0.5820106<br />university: The Hong Kong University of Science and Technology","year_start: 2011<br />percentage: 2.5460455<br />university: The Hong Kong University of Science and Technology","year_start: 2012<br />percentage: 1.7152659<br />university: The Hong Kong University of Science and Technology","year_start: 2013<br />percentage: 1.2642225<br />university: The Hong Kong University of Science and Technology","year_start: 2014<br />percentage: 1.4504766<br />university: The Hong Kong University of Science and Technology","year_start: 2015<br />percentage: 2.0935961<br />university: The Hong Kong University of Science and Technology","year_start: 2016<br />percentage: 1.4210313<br />university: The Hong Kong University of Science and Technology","year_start: 2017<br />percentage: 0.9441088<br />university: The Hong Kong University of Science and Technology","year_start: 2018<br />percentage: 1.3011152<br />university: The Hong Kong University of Science and Technology","year_start: 2019<br />percentage: 1.7200938<br />university: The Hong Kong University of Science and Technology","year_start: 2020<br />percentage: 1.4946619<br />university: The Hong Kong University of Science and Technology","year_start: 2021<br />percentage: 1.4648089<br />university: The Hong Kong University of Science and Technology","year_start: 2022<br />percentage: 1.9181114<br />university: The Hong Kong University of Science and Technology"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(199,124,255,1)","dash":"solid"},"hoveron":"points","name":"The Hong Kong University of Science and Technology","legendgroup":"The Hong Kong University of Science and Technology","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022],"y":[0.59405940594059403,0.48199603062092428,0.40206777713957498,0.4433361041839845,0.63745019920318724,0.59724746819008057,0.59203444564047358,0.8083689966714217,0.92236740968485775,1.068974293713413,1.0576923076923077,0.87569934322549259,0.94944829355914817],"text":["year_start: 2010<br />percentage: 0.5940594<br />university: The University of Hong Kong","year_start: 2011<br />percentage: 0.4819960<br />university: The University of Hong Kong","year_start: 2012<br />percentage: 0.4020678<br />university: The University of Hong Kong","year_start: 2013<br />percentage: 0.4433361<br />university: The University of Hong Kong","year_start: 2014<br />percentage: 0.6374502<br />university: The University of Hong Kong","year_start: 2015<br />percentage: 0.5972475<br />university: The University of Hong Kong","year_start: 2016<br />percentage: 0.5920344<br />university: The University of Hong Kong","year_start: 2017<br />percentage: 0.8083690<br />university: The University of Hong Kong","year_start: 2018<br />percentage: 0.9223674<br />university: The University of Hong Kong","year_start: 2019<br />percentage: 1.0689743<br />university: The University of Hong Kong","year_start: 2020<br />percentage: 1.0576923<br />university: The University of Hong Kong","year_start: 2021<br />percentage: 0.8756993<br />university: The University of Hong Kong","year_start: 2022<br />percentage: 0.9494483<br />university: The University of Hong Kong"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(255,97,204,1)","dash":"solid"},"hoveron":"points","name":"The University of Hong Kong","legendgroup":"The University of Hong Kong","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826498,"l":31.415525114155255},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Unemployment Percentage of Graduates Over the Years","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2009.4000000000001,2022.5999999999999],"tickmode":"array","ticktext":["2011","2013","2015","2017","2019","2021"],"tickvals":[2011,2013,2015,2017,2019,2021],"categoryorder":"array","categoryarray":["2011","2013","2015","2017","2019","2021"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.01440983863834161,4.9795062337328817],"tickmode":"array","ticktext":["1","2","3","4"],"tickvals":[1,2,3,4],"categoryorder":"array","categoryarray":["1","2","3","4"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Percentage (%)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":"transparent","line":{"color":"rgba(51,51,51,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"16b1d3f6a5545":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"16b1d3f6a5545","visdat":{"16b1d3f6a5545":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a 2024="" href="./olympics.html" class="pagination-link  aria-label=" &lt;span="" olympics&lt;="" span&gt;"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Paris 2024 Olympics</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright © 2025 Bin Chen</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>